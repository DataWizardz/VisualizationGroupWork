<!DOCTYPE html>
<html>

<head>
	<meta charset='UTF-8' />
	<meta name='viewport' content="width = device-width, initial-scale = 1/">
	<title>
		My Map
	</title>
	<!--Leaflet-->
	<link rel="stylesheet" href="lib/leaflet/leaflet.css" />
	<script src="lib/leaflet/leaflet.js"></script>
	<script src="../states_votes.geojson"></script>
	<style type="text/css">
		#map {
			height: 400px;
		}
	</style>
</head>

<body>
	<h1>My Map</h1>
	<div id='map'></div>
	<script>

		var map = L.map('map', { crs: L.CRS.EPSG4326 }).setView([-108.619726, 45.000284], 13);
		var countriesLayer = L.geoJson(states, {
			onEachFeature: (feature, layer) => {
				console.log(layer.getBounds().getCenter(), feature.properties.NAME)
				let c_coords = layer.getBounds().getCenter()

				let label = L.marker(c_coords, {
					icon: L.divIcon({
						className: 'label',
						html: feature.properties.NAME,
						iconSize: [100, 40]
					})
				}).addTo(map)
			}
		}).addTo(map);
		map.fitBounds(countriesLayer.getBounds());
	</script>
</body>

</html>